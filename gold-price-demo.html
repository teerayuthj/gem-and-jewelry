<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gold Price Component Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./assets/css/gold-price.css">
    <style>
        /* Additional custom styles */
        body {
            background-color: #E8F4FD;
            min-height: 100vh;
        }
    </style>
</head>
<body>
    <div class="container mx-auto py-8">
        <!-- Language Switcher -->
        <div class="text-center mb-6">
            <button 
                id="langSwitcher" 
                class="bg-white text-gray-700 px-4 py-2 rounded-lg shadow-md hover:shadow-lg transition-shadow"
            >
                English
            </button>
        </div>

        <!-- Gold Price Component Container -->
        <div id="goldPriceContainer" class="gold-price-container">
            <!-- Component will be rendered here -->
        </div>
    <!-- Scripts -->
    <script src="./assets/js/i18n.js"></script>
    <script src="./assets/js/gold-price-manager.js"></script>

    <script>
        // Demo script for updating prices every 30 seconds
        setInterval(() => {
            if (window.goldPriceManager) {
                // Simulate price updates
                const randomChange = () => Math.floor(Math.random() * 100) - 50;
                const basePrice = 53000;
                
                const newData = {
                    visiblePrices: [
                        {
                            id: 'ausitis965',
                            type: 'gold',
                            buyPrice: basePrice + Math.floor(Math.random() * 1000),
                            sellPrice: null,
                            change: randomChange(),
                            icon: 'ðŸ¥‡'
                        },
                        {
                            id: 'ausitis9999',
                            type: 'gold',
                            buyPrice: basePrice + Math.floor(Math.random() * 1000),
                            sellPrice: null,
                            change: randomChange(),
                            icon: 'ðŸ¥‡'
                        },
                        {
                            id: 'spotGold',
                            type: 'usd',
                            buyPrice: 2350 + Math.floor(Math.random() * 100),
                            sellPrice: null,
                            change: randomChange(),
                            icon: 'ðŸŸ '
                        }
                    ],
                    hiddenPrices: goldPriceManager.mockData.hiddenPrices.map(price => ({
                        ...price,
                        buyPrice: basePrice + Math.floor(Math.random() * 1000),
                        change: randomChange()
                    }))
                };
                
                goldPriceManager.updatePrices(newData);
                console.log('Gold prices updated!');
            }
        }, 3000); // Update every 30 seconds
    </script>
</body>
</html>